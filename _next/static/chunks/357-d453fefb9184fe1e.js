(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{6e3:function(e,t,n){"use strict";var a=n(5893),i=n(7294),s=n(9243),r=n(2741),o=n(1973),d=n.n(o),c=function(e){var t=(0,i.useState)(!1),n=t[0],o=t[1],c=(0,i.useState)(null),l=c[0],u=c[1],p=function(){o(!1)};return(0,i.useEffect)((function(){e.alert?(u(e.alert),o(!0)):p()}),[e.alert]),(0,a.jsxs)("div",{className:d().page,children:[(0,a.jsxs)("div",{className:d().contentContainer,children:[(0,a.jsx)("div",{className:d().mainContent,children:e.children}),e.sidebar]}),(0,a.jsx)(s.Z,{open:n,onClose:p,autoHideDuration:e.autoHideAlertMilliSeconds,children:(0,a.jsxs)(r.Z,{onClose:p,severity:null===l||void 0===l?void 0:l.severity,children:[null===l||void 0===l?void 0:l.message,(null===l||void 0===l?void 0:l.errorMessages)&&l.errorMessages.map((function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),e.messageContent]})}))]})})]})};c.defaultProps={alert:null},t.Z=c},3667:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var a=n(5893),i=n(7294),s=n(9630),r=n(9281),o=n(9815),d=n(562),c=n(5084),l=(0,n(8175).Z)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),u=n(6853),p=n.n(u),m=function(e){var t=(0,i.useState)(!0),n=t[0],u=t[1],m=(0,i.useCallback)((function(){var e=document.querySelectorAll("."+p().candidateInputRow+":last-of-type input")[0];e&&e.focus&&e.focus()}),[p().candidateInputRow]),f=function(t){"Enter"===t.key&&(u(!n),e.setCandidateList((0,o.Z)(e.candidateList).concat([{name:""}])))},h=function(t){var n=Number(t.target.name),a=(0,o.Z)(e.candidateList);a[n]={name:t.target.value},e.setCandidateList(a)};return(0,i.useEffect)((function(){m()}),[n,m]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{variant:"h4",children:"Candidates"}),e.candidateList.map((function(t,n){return(0,a.jsxs)("div",{className:p().candidateInputRow,children:[(0,a.jsx)(r.Z,{style:{flexGrow:1},name:String(n),className:e.textFieldClassName,onKeyPress:f,label:"Candidate Name",variant:"filled",value:t.name,onChange:h},n),(0,a.jsx)(d.Z,{"aria-label":"delete",onClick:function(){return function(t){e.candidateList.splice(t,1),e.setCandidateList((0,o.Z)(e.candidateList))}(n)},children:(0,a.jsx)(l,{})},n)]},n)})),(0,a.jsx)(c.Z,{className:p().addCandidateButton,variant:"contained",onClick:function(){u(!n),e.setCandidateList((0,o.Z)(e.candidateList).concat([{name:""}]))},children:"Add Candidate"})]})};m.defaultProps={};var f=m,h=n(3366),v=n(7462),g=n(6010),C=n(4780),b=n(1796),y=n(7074),x=n(5959),j=n(7742),Z=n(9828),N=n(3289),I=n(4771),S=n(1588);var k=(0,S.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var L=(0,S.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);var P=(0,S.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),$=n(4867);function R(e){return(0,$.Z)("MuiMenuItem",e)}var w=(0,S.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);const F=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],_=(0,y.ZP)(Z.Z,{shouldForwardProp:e=>(0,y.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((({theme:e,ownerState:t})=>(0,v.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${w.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,b.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${w.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,b.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${w.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,b.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,b.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${w.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${w.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${k.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${k.inset}`]:{marginLeft:52},[`& .${P.root}`]:{marginTop:0,marginBottom:0},[`& .${P.inset}`]:{paddingLeft:36},[`& .${L.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,v.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${L.root} svg`]:{fontSize:"1.25rem"}}))));var M=i.forwardRef((function(e,t){const n=(0,x.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:r="li",dense:o=!1,divider:d=!1,disableGutters:c=!1,focusVisibleClassName:l,role:u="menuitem",tabIndex:p,className:m}=n,f=(0,h.Z)(n,F),b=i.useContext(j.Z),y={dense:o||b.dense||!1,disableGutters:c},Z=i.useRef(null);(0,N.Z)((()=>{s&&Z.current&&Z.current.focus()}),[s]);const S=(0,v.Z)({},n,{dense:y.dense,divider:d,disableGutters:c}),k=(e=>{const{disabled:t,dense:n,divider:a,disableGutters:i,selected:s,classes:r}=e,o={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",a&&"divider",s&&"selected"]},d=(0,C.Z)(o,R,r);return(0,v.Z)({},r,d)})(n),L=(0,I.Z)(Z,t);let P;return n.disabled||(P=void 0!==p?p:-1),(0,a.jsx)(j.Z.Provider,{value:y,children:(0,a.jsx)(_,(0,v.Z)({ref:L,role:u,tabIndex:P,component:r,focusVisibleClassName:(0,g.Z)(k.focusVisible,l),className:(0,g.Z)(k.root,m)},f,{ownerState:S,classes:k}))})})),O=function(e){var t=Math.max(10,e.candidateList.length);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{variant:"h4",children:"Poll Details"}),(0,a.jsx)(r.Z,{className:e.textFieldClassName,label:"Poll Title",id:"poll-title",variant:"filled",value:e.pollName,onChange:function(t){return e.setPollName(t.target.value)}}),(0,a.jsx)(r.Z,{className:e.textFieldClassName,label:"Number of Ranked Choices",id:"ranked-choice-count",select:!0,variant:"filled",value:e.maxNumRankedChoiceCount,onChange:function(t){return e.setMaxNumRankedChoiceCount(Number(t.target.value))},children:Array(t).fill(0).map((function(e,t){return(0,a.jsx)(M,{value:t+1,children:t+1},t+1)}))}),(0,a.jsx)(f,{candidateList:e.candidateList,setCandidateList:e.setCandidateList,textFieldClassName:e.textFieldClassName})]})};O.defaultProps={};var T=O},9542:function(e,t,n){"use strict";n.d(t,{Dq:function(){return s},Gm:function(){return r},Ms:function(){return i},QP:function(){return a},Qh:function(){return o},zF:function(){return d}});var a=function(e,t){return fetch("/api/v1/poll",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","X-USER-ID":e},body:JSON.stringify(t)}).then((function(e){return e.ok?e:e.json().then((function(e){return Promise.reject({data:e.data,messages:e.messages})}))})).then((function(e){return e.json()}))},i=function(e,t,n){return fetch("/api/v1/poll/".concat(t),{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json","X-USER-ID":e},body:JSON.stringify(n)}).then((function(e){return e.ok?e:e.json().then((function(e){return Promise.reject({data:e.data,messages:e.messages})}))})).then((function(e){return e.json()}))},s=function(e,t){return fetch("/api/v1/poll/".concat(t),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json","X-USER-ID":e}}).then((function(e){return e.ok?e:e.json().then((function(e){return Promise.reject({data:e.data,messages:e.messages})}))})).then((function(e){return e.json()}))},r=function(e,t){return fetch("/api/v1/poll/".concat(t,"/vote"),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json","X-USER-ID":e}}).then((function(e){return e.ok?e:e.json().then((function(e){return Promise.reject({data:e.data,messages:e.messages})}))})).then((function(e){return e.json()}))},o=function(e,t,n){return fetch("/api/v1/poll/".concat(t,"/vote"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","X-USER-ID":e},body:JSON.stringify(n)}).then((function(e){return e.ok?e:e.json().then((function(e){return Promise.reject({data:e.data,messages:e.messages})}))})).then((function(e){return e.json()}))},d=function(e,t){return fetch("/api/v1/poll/".concat(t,"/results"),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json","X-USER-ID":e}}).then((function(e){return e.ok?e:e.json().then((function(e){return Promise.reject({data:e.data,messages:e.messages})}))})).then((function(e){return e.json()}))}},4153:function(e,t,n){"use strict";n.d(t,{i:function(){return c}});var a=n(1799),i=n(9396),s=n(9815),r=n(7294),o=n(9817),d={data:null,messages:[],isLoading:!1,isSuccess:!1,isInitial:!0};function c(e){var t=(0,r.useState)(d),n=t[0],c=t[1],l=(0,o.C)();return[n,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c((0,i.Z)((0,a.Z)({},d),{isLoading:!0,isInitial:!1})),e.apply(void 0,[String(l)].concat((0,s.Z)(n))).then((function(e){var t={data:e.data,messages:e.messages,isLoading:!1,isSuccess:!0,isInitial:!1};return c(t),t})).catch((function(e){var t={data:e.data,messages:e.messages,isLoading:!1,isSuccess:!1,isInitial:!1};return c(t),Promise.reject(t)}))}]}},6853:function(e){e.exports={addCandidateButton:"CandidateInputList_addCandidateButton__nYhqX",candidateInputRow:"CandidateInputList_candidateInputRow___ckQi"}},1973:function(e){e.exports={page:"Page_page__WUVFs",contentContainer:"Page_contentContainer__BRpFP",mainContent:"Page_mainContent__Wuje1"}}}]);