(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[750],{6540:function(e,t,n){"use strict";var a=n(5318);t.Z=void 0;var i=a(n(4938)),o=n(5893),r=(0,i.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=r},6165:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var a=n(7294),i=n(1002),o=n(6186),r=n(7512),s=n.n(r),c=n(5893),d=function(e){return(0,c.jsx)("div",{className:s().sidebar,children:e.children})},l=n(9035),u=n.n(l),m=function(e){var t=(0,a.useState)(!1),n=t[0],r=t[1],s=(0,a.useState)(null),d=s[0],l=s[1],m=function(){r(!1)};return(0,a.useEffect)((function(){e.alert?(l(e.alert),r(!0)):m()}),[e.alert]),(0,c.jsxs)("div",{className:u().page,children:[(0,c.jsxs)("div",{className:u().contentContainer,children:[(0,c.jsx)("div",{className:u().mainContent,children:e.children}),e.sidebar]}),(0,c.jsx)(i.Z,{open:n,onClose:m,autoHideDuration:e.autoHideAlertMilliSeconds,children:(0,c.jsx)(o.Z,{onClose:m,severity:null===d||void 0===d?void 0:d.severity,children:null===d||void 0===d?void 0:d.message})})]})};m.defaultProps={sidebar:(0,c.jsx)(d,{}),alert:null};var f=m},1346:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var a=n(7294),i=n(2658),o=n(1482),r=n(3789),s=n(2642),c=n(1947),d=n.n(c),l=n(5893),u=function(e){var t=(0,a.useState)(!0),n=t[0],c=t[1],u=(0,a.useCallback)((function(){var t=document.querySelectorAll("."+e.textFieldClassName+":last-of-type input")[0];t&&t.focus&&t.focus()}),[e.textFieldClassName]),m=function(t){"Enter"===t.key&&(c(!n),e.setCandidateList([].concat((0,r.Z)(e.candidateList),[{name:""}])))},f=function(t){var n=Number(t.target.name),a=(0,r.Z)(e.candidateList);a[n]={name:t.target.value},e.setCandidateList(a)};return(0,a.useEffect)((function(){u()}),[n,u]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.Z,{variant:"h4",children:"Candidates"}),e.candidateList.map((function(t,n){return(0,l.jsx)(o.Z,{name:String(n),className:e.textFieldClassName,onKeyPress:m,label:"Candidate Name",variant:"filled",value:t.name,onChange:f},n)})),(0,l.jsx)(s.Z,{className:d().addCandidateButton,variant:"contained",onClick:function(){c(!n),e.setCandidateList([].concat((0,r.Z)(e.candidateList),[{name:""}]))},children:"Add Candidate"})]})};u.defaultProps={};var m=u,f=n(4347),h=function(e){var t=Math.max(10,e.candidateList.length);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.Z,{variant:"h4",children:"Poll Details"}),(0,l.jsx)(o.Z,{className:e.textFieldClassName,label:"Poll Title",id:"poll-title",variant:"filled",value:e.pollName,onChange:function(t){return e.setPollName(t.target.value)}}),(0,l.jsx)(o.Z,{className:e.textFieldClassName,label:"Number of Ranked Choices",id:"ranked-choice-count",select:!0,variant:"filled",value:e.maxNumRankedChoiceCount,onChange:function(t){return e.setMaxNumRankedChoiceCount(Number(t.target.value))},children:Array(t).fill(0).map((function(e,t){return(0,l.jsx)(f.Z,{value:t+1,children:t+1},t+1)}))}),(0,l.jsx)(m,{candidateList:e.candidateList,setCandidateList:e.setCandidateList,textFieldClassName:e.textFieldClassName})]})};h.defaultProps={};var C=h},7392:function(e,t,n){"use strict";n.d(t,{QP:function(){return i},Ms:function(){return o},Dq:function(){return r},Qh:function(){return s},zF:function(){return c}});var a="http://localhost:8080",i=function(e,t){return fetch("".concat(a,"/ranked-choice-vote/v1/poll"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","X-USER-ID":e},body:JSON.stringify(t)}).then((function(e){return e.ok?e:e.json().then((function(e){return Promise.reject({data:null,messages:[]})}))})).then((function(e){return e.json()}))},o=function(e,t,n){return fetch("".concat(a,"/ranked-choice-vote/v1/poll/").concat(t),{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json","X-USER-ID":e},body:JSON.stringify(n)}).then((function(e){return e.ok?e:e.json().then((function(e){return Promise.reject({data:null,messages:[]})}))})).then((function(e){return e.json()}))},r=function(e,t){return fetch("".concat(a,"/ranked-choice-vote/v1/poll/").concat(t),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json","X-USER-ID":e}}).then((function(e){return e.ok?e:e.json().then((function(e){return Promise.reject({data:null,messages:[]})}))})).then((function(e){return e.json()}))},s=function(e,t,n){return fetch("".concat(a,"/ranked-choice-vote/v1/poll/").concat(t,"/vote"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","X-USER-ID":e},body:JSON.stringify(n)}).then((function(e){return e.ok?e:e.json().then((function(e){return Promise.reject({data:null,messages:[]})}))})).then((function(e){return e.json()}))},c=function(e,t){return fetch("".concat(a,"/ranked-choice-vote/v1/poll/").concat(t,"/results"),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json","X-USER-ID":e}}).then((function(e){console.log(e);return Promise.resolve({messages:[],data:{pollId:"test-do-not-deleto",pollName:"This is a test poll",totalEntries:13,totalSteps:3,maxNumRankedChoiceCount:2,winner:"spoodermann",steps:[{stepId:0,candidateList:[{name:"spoodermann",eliminated:!1,votes:[{firstChoiceCandidate:"spoodermann",voteCount:3}]},{name:"batman",eliminated:!1,votes:[{firstChoiceCandidate:"batman",voteCount:4}]},{name:"peach",eliminated:!1,votes:[{firstChoiceCandidate:"peach",voteCount:3}]},{name:"mario",eliminated:!1,votes:[{firstChoiceCandidate:"mario",voteCount:2}]},{name:"luigi",eliminated:!1,votes:[{firstChoiceCandidate:"luigi",voteCount:1}]}]},{stepId:1,candidateList:[{name:"spoodermann",eliminated:!1,votes:[{firstChoiceCandidate:"spoodermann",voteCount:3},{firstChoiceCandidate:"luigi",voteCount:1}]},{name:"batman",eliminated:!1,votes:[{firstChoiceCandidate:"batman",voteCount:4}]},{name:"peach",eliminated:!1,votes:[{firstChoiceCandidate:"peach",voteCount:3}]},{name:"mario",eliminated:!1,votes:[{firstChoiceCandidate:"mario",voteCount:2}]},{name:"luigi",eliminated:!0,votes:[{firstChoiceCandidate:"luigi",voteCount:1}]}]},{stepId:2,candidateList:[{name:"spoodermann",eliminated:!1,votes:[{firstChoiceCandidate:"spoodermann",voteCount:3},{firstChoiceCandidate:"luigi",voteCount:1},{firstChoiceCandidate:"mario",voteCount:2}]},{name:"batman",eliminated:!1,votes:[{firstChoiceCandidate:"batman",voteCount:4}]},{name:"peach",eliminated:!1,votes:[{firstChoiceCandidate:"peach",voteCount:3}]},{name:"mario",eliminated:!0,votes:[{firstChoiceCandidate:"mario",voteCount:2}]},{name:"luigi",eliminated:!0,votes:[{firstChoiceCandidate:"luigi",voteCount:1}]}]}],yourEntry:{choices:[{choicePosition:0,candidate:{name:"mario"}},{choicePosition:1,candidate:{name:"spoodermann"}}]}}})}))}},2175:function(e,t,n){"use strict";n.d(t,{i:function(){return u}});var a=n(2809),i=n(7294),o=n(318),r=n(6645),s=n(4586);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={data:null,messages:[],isLoading:!1,isSuccess:!1,isInitial:!0};function u(e){var t=(0,i.useState)(l),n=t[0],a=t[1],c=function(){var e=(0,r.Z)(["X-USER-ID"]),t=(0,o.Z)(e,3),n=t[0],a=t[1];if(t[2],!n["X-USER-ID"]){var i=(0,s.Z)();return a("X-USER-ID",i,{path:"/"}),i}return n["X-USER-ID"]}();return[n,function(){a(d(d({},l),{},{isLoading:!0,isInitial:!1}));for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(void 0,[String(c)].concat(n)).then((function(e){var t={data:e.data,messages:e.messages,isLoading:!1,isSuccess:!0,isInitial:!1};return a(t),t})).catch((function(e){var t={data:e.data,messages:e.messages,isLoading:!1,isSuccess:!1,isInitial:!1};return a(t),t}))}]}},138:function(e,t,n){"use strict";n.r(t);var a=n(318),i=n(7294),o=n(2642),r=n(2658),s=n(6540),c=n(6165),d=n(7162),l=n.n(d),u=n(7392),m=n(1346),f=n(2175),h=n(1163),C=n(5893);t.default=function(){var e=(0,i.useState)(""),t=e[0],n=e[1],d=(0,i.useState)(3),v=d[0],p=d[1],g=(0,i.useState)([{name:""}]),j=g[0],x=g[1],P=(0,f.i)(u.QP),N=(0,a.Z)(P,2),b=N[0],S=N[1],_=(0,i.useState)(null),y=_[0],Z=_[1];(0,i.useEffect)((function(){b.isInitial||(b.isLoading||b.isSuccess||Z({severity:"error",message:"An error has occured while creating the poll"}),(b.isLoading||b.isSuccess)&&Z(null))}),[b.isInitial,b.isLoading,b.isSuccess]);return(0,C.jsxs)(c.Z,{alert:y,children:[(0,C.jsx)(r.Z,{variant:"h3",children:"Create a New Poll"}),(0,C.jsx)(m.Z,{textFieldClassName:l().candidateTextField,pollName:t,maxNumRankedChoiceCount:v,candidateList:j,setPollName:n,setMaxNumRankedChoiceCount:p,setCandidateList:x}),(0,C.jsx)(o.Z,{className:l().createPollButton,variant:"contained",startIcon:(0,C.jsx)(s.Z,{}),color:"success",onClick:function(){S({pollName:t,maxNumRankedChoiceCount:v,candidateList:j}).then((function(e){var t;h.default.push("/vote/".concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.pollId))})).catch((function(){Z({severity:"error",message:"An error has occured while creating the poll"})}))},children:"Create Poll"})]})}},5468:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/createPoll",function(){return n(138)}])},1947:function(e){e.exports={addCandidateButton:"CandidateInputList_addCandidateButton__1jCCi"}},9035:function(e){e.exports={page:"Page_page__1hHHt",contentContainer:"Page_contentContainer__12rAS",mainContent:"Page_mainContent__GcSbW"}},7512:function(e){e.exports={sidebar:"Sidebar_sidebar__1wPFG"}},7162:function(e){e.exports={textField:"createPoll_textField__19xYz",candidateTextField:"createPoll_candidateTextField__1gBUs",createPollButton:"createPoll_createPollButton__2MbZ0"}}},function(e){e.O(0,[859,878,774,888,179],(function(){return t=5468,e(e.s=t);var t}));var t=e.O();_N_E=t}]);